Read more here: http://harryjoy.me/2011/08/15/assembler-in-c/
